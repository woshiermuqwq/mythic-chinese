
**编者验证百科内容时,所使用版本为 5.3.0**

5.3.0
=

高亮
---

- 重新支持 MMO 系列插件（MMOCore/MMOItems等）
- 修复[**定点生成限制Mythic实体活动范围**（LeashRange选项, 老漏洞）](/顶点生成)
- 优化[模板](/实体/模板)
- [计分板条件](/条件/列表/score)支持[占位符](/技能/占位符)与[计算](/技能/计算)
- 新增弧线技能 ———— [Slash](/技能/列表/slash)
- 多种复杂机制简单化
- 允许开关烦人的[默认文件生成](/配置)
- [变量向PAPI占位符转换](/技能/占位符#papi占位符placeholderapi返还变量值530)

配置（Config.yml）
---

- 新增选项: `LoadExampleConfigs`, 当默认配置(ExampleMobs.yml等)不存在时, 是否重载生成这些文件  

物品
---

### 新增: `CanPlaceOn`(仅放置于) &` 与 `CanBreak`(仅可破坏) 
- 这俩选项与冒险模式的俩选项一致, 限制玩家在冒险模式下的物品用途
```yaml
测试:
 Id: ANVIL
 CanBreak:
 - grass_block
 - diamond_block
 - obsidian
 CanPlaceOn:
 - gravel
```
主手持该铁砧且处于冒险模式下时仅可破坏草方块、钻石块与黑曜石（哪怕挖了啥也不掉）, 仅可放置在砂砾上

实体
---

优化[模板](/实体/模板)  
1. [模板](/实体/模板)现可再次被视作[模板](/实体/模板#多模板)（称作[多模板](/实体/模板#多模板) 套娃）
2. 一个实体可同时使用多个[模板](/实体/模板#链式模板)([链式模板](/实体/模板#链式模板)`Template: 测试,测试1...`)

技能
---

### 新增: [Undo Paste](/技能/列表/undopaste)
- 撤销通过 [Fawe Paste](/技能/列表/fawepaste) 所生成的区域(schematics)  
```yaml
### 撤销已定义内部名的区域
- fawePaste{s=cs.schem;id=abc} @self ~onSpawn
- undoPaste{id=cs} @self ~onDamaged
### 撤销未定义内部名的区域
- fawePaste{s=cs.schem} @self ~onSpawn
- undoPaste{id=cs.schem} @self ~onDamaged
```

### [Cancel Event](/技能/列表/cancelevent)
- **现可取消死亡事件（[On Death](/技能/触发器#技能触发器)）**  
```yaml
复活测试:
 Type: COW
 Display: '&e你杀不死我！'
 Health: 20
 Options:
  ReviveHealth: -1
 Skills:
 - skill{s=[
  - cancelevent
  - e:p{p=HEART;hs=0.5;vs=0.5;y=1.5}
  - speak{m=Call an ambulance, but not for me!}
  ];sync=true} @self ~onDeath
```

### [Projectile](/技能/列表/projectile)
- 新增修改项: `onHitBlockSkill(ohb)`, 用于在命中方块时调用技能组

### [Modify Projectile](/技能/列表/modifyprojectile)
- 新增模式: ADD(`mode=add`)

### [Shoot](/技能/列表/shoot)
- 修改项: `pickup=true/false`(是否允许拾起箭矢) 现可正常工作（4.12那会就有的漏洞）
- 新增修改项: `expiration`(expire, e, duration, 箭矢所允许拾起的时间, 单位: 刻)
- 该技能现可触发伤害事件, 这意味着**支持所有来自技能: [Damage](/技能/列表/damage) 的修改项**
- 该技能所触发的伤害来源为 `SKILL` 而非 `PROJECTILE`
- 为修改项: `damage` 添加别称: `amount` 

### [Set Block](/技能/列表/setblock)
- 新增修改项: `physics`(p, 变更方块后是否更新周围的方块)

### 新增: [Slash](/技能/列表/slash)
- 于技能目标所处位置绘制一条弧线, 绘制时的每个点都能执行技能组  
```yaml
# 1
- slash{y=1.8;w=4;h=2;mpd=true;a=180;oP=[ e:p{p=CRIT} ];roll=<random.-45to45>}

# 2
测试:
  Id: NETHERITE_SWORD
  Skills:
  - slash{y=1.8;w=4;h=40;mpd=true;a=45;radius=2;
      oP=[ - e:p{p=SPARK} ];
      oH=[ - damage{a=2} ]
      ;roll=<random.-30to30>;fo=5;duration=5} @self ~onUse

# 3
- skill{s=[
  - slash{p=40;y=1.8;w=4;h=1;r=0,0,<random.-45to45>;ls=0;a=90;i=1;oP=[ - e:p{p=CRIT;a=1} ];repeat=4;repeati=2}
  - delay 10
  - slash{p=40;y=1.8;w=4;h=1;r=0,0,<random.-45to45>;ls=0;a=90;i=1;oP=[ - e:p{p=CRIT_MAGIC;a=30} ]}
  ]} @self ~onSwing
```
### 新增: [Saddle](/技能/列表/saddle)
- 为技能目标装备上鞍, 当唯一修改项: `take(t)` 为 `true` 时将取走鞍

### 新增: [Projectile Velocity](/技能/列表/projectilevelocity)
- 与 [Velocity](/技能/列表/velocity)一致, 修改对象的动量  
- 但修改对象为抛射物而非实体
- 可用于技能: [Projecile](/技能/projectile) 与 [Missile](/技能/列表/missile)

### 新增: [Polygon](/技能/列表/polygon)
- 于技能目标所处位置绘制多边形, 绘制时的每个点都能执行技能组  
```yaml
# 1
      - polygon{db=0.25;y=0.1;mpd=false;scale=6;
        oE=[ - e:p{p=FLAME} ];
        oP=[ - e:p{p=CRIT;a=1;repeat=20;repeati=1} ];
        oS=[ - e:p{p=SOUL_FIRE_FLAME} ]
        ;p=10;skip=6;duration=20} @Origin

# 2
    - setVar{var=global.a;v=0}
    - skill{s=[
      - addVar{var=global.a;a=1}
      - polygon{db=0.25;y=0.1;mpd=false;radius=1;scale=6;yaw=<global.var.a>;
        oE=[ - e:p{p=FLAME} ];
        oP=[ - e:p{p=CRIT;a=1} ];
        oS=[ - e:p{p=SOUL_FIRE_FLAME} ]
        ;p=10;skip=2} @Origin
      ];repeat=180;repeati=1}
```
* 修改项: `onHitEntitySkill` 仅会执行一次
* 调整修改项: `points' 与 'skip' 以穿件多边形
* 定义修改项 `'`onPointSkill`, `onEdgeSkill` 与 `onStarSkill` 以制作特效


触发器
---

### 新增: [On World Change](/技能/触发器#技能触发器)  
- 进入其它世界后
```yaml
测试:
 Type: WITHER_SKELETON
 Skills:
 - message{m="末地！"} @server ~onChangeWorld ?varEquals{var=skill.world;value=world_the_end}
 - message{m="下界！"} @server ~onChangeWorld ?varEquals{var=skill.world;value=world_nether}
### 当变量: skill.world 值为 the_end 且变更所处世界时向玩家发送 末地！ 信息
```
### 新增: [On Milk](/技能/触发器#技能触发器)
- 使用桶交互牛等实体后i

占位符
---

### 新增: [Raycast](/技能/占位符#施法者占位符)
- 返还对象所看着的方块（距离不超过4.5格方块）

###PAPI占位符（PlaceholderAPI）返还变量值（5.3.0）

| **占位符名**                        | **描述**                                                              |
|----------------------------------------|---------------------------------------------------------------------------|
| %mythic_var_变量名%         | 返还位于施法者(玩家)身上的指定变量值 |
| %mythic_var_world_someVar%         | 返还位于施法者所处世界的指定变量值 |
| %mythic_var_global_someVar%        | 返还位于服务器(全局)的指定变量值 |
| %mythic_var_玩家名_someVar%         | 返还位于指定玩家身上的指定变量值 |
| %mythic_var_实体UUID_someVar%     | 返还位于指定实体身上的指定变量值 |

目标选择器
---

### 新增: [@Cuboid](/技能/目标选择器#多坐标)
- 选取立体范围内的多个位置  
```yaml
- e:p{p=FLAME;a=1} @Rectangle{d=12;f=false;r=45,45,0;yOffset=1.5;outline=true}
```
### [@Blocks In Chunk](/技能/目标选择器#多坐标)
- 新增缩写 `BIC`
### [@Blocks In Radius](/技能/目标选择器#多坐标)
- 新增缩写 `BIR`
### [@Blocks Near Origin](/技能/目标选择器#多坐标)
- 新增缩写 `BNC`
### 新增: [@Vein]((/技能/目标选择器#多坐标))
- 以坐标原点为中心, 选取周围与给定的方块种类相同的 指定数量的位置  
- 选项: `limit` 限制数量
- 选项: `bt`   
```yaml
连锁挖掘所看着的方块:
  Id: NETHERITE_PICKAXE
  Skills:
  - breakblock{origin=@TargetLocation} @Vein{bt=<caster.raycast>} ~onBlockBreak
### bt=#ORE 表选取施法者所看着的方块, 因占位符: <caster.raycast> 返还了施法者所看着的方块种类
连锁挖掘矿石:
  Id: DIAMOND_PICKAXE
  Skills:
  - breakblock{origin=@TargetLocation} @Vein{bt=#ORE} ~onBlockBreak
### bt=#ORE 表选取所有ID含有 ORE 的方块
```
### 新增通用修改项: [ofParnet 与 ofOnwer、ofTrigger](/技能/目标选择器#目标选择器对象530)
- 位置是否以父系实体/主人/触发者为对象

```yaml
出生后可以把我拉走:
 Type: Wolf
 Skills:
 - setOwner @NearestPlayer{r=99} ~onSpawn
 - tp @Forward{f=5;y=1;ofOwner=true} ~onTimer:1
```
![462176273107b7c570e87cde9a3b9a28_a](uploads/0f33e6b69f6f4d810bb287ad95e693e8/462176273107b7c570e87cde9a3b9a28_a.gif)

条件
---

### 新语法: 或、且

```yaml
Conditions:
- ((night || raining) && onBlock{material=LIME_CONCRETE}) true
```
↑↑↑ 当处在浅绿色混凝土上 **且**（同时）处在黑夜**或**雨天时满足

### 新增: [Is Mythic Mob](/条件/列表)
- 若为 Mythic实体

### 新增: [Is Saddled](/条件/列表)
- 若已装备鞍

### [Score](/条件/列表/score) 与 [Global Score](/条件/列表/globalscore)
- **所有修改项支持[占位符](/技能/占位符)与[计算](/技能/计算)**

### 新增: [Mtyhic Pack](/条件/列表/mythicpack)
- 若已安装指定配置包的指定版本  
```yaml
- mythicpack{p="测试"}
```

### 新增: [Pack Version](/条件/列表/packversion)
- 若已安装指定配置包的指定版本  
```yaml
- packversion{p="测试";v="1.2.5"}
```

### 新增: [NMS Version](/条件/列表/nmsversion)
- 若NMS为指定版本  
```yaml
- nmsversion{v="v1_19_R1"}
```

### 新增: [Server Version](/条件/列表/serverversion)
- 若服务器为指定版本  
```yaml
- version{v="1.19.3"}
```

### 新增: [Is Moist](/条件/列表)
- 若耕地完全湿润  
```yaml
- ismoist
```
### 新增: [Moistureness](/条件/列表/moistureness)
- 若耕地的湿润等级为  
```yaml
- moistureness{l=3}
```

漏洞修复/其它信息

---

- 当MM的Schematics文件夹为空时, MM将检索WE与FAWE的Schematics文件夹内的文件
- 修复条件: [Has Parent](/条件/列表)
- 允许为配置包物品的种类（默认为钻石图标）
- 隐藏配置包物品的一些原版物品基础信息
- 上述"配置包物品"个人理解是在GUI内配置包通过一个物品的形式呈现
- 修复了使用随机数时的内存滞后
- 修复触发器: [On Milk](/技能/列表#触发器)
- 重构技能: [Modify Projectile](/技能/列表/modifyprojectile)
- 技能: [FAWE Paste](/技能/列表/fawepaste) 现为异步执行
- 技能: [Slash](/技能/列表/slash) 的修改项: `helght` 不再被修改项 `base` 所替换, 修复修改项: `hitradius` 与 `duration` 无法工作的欧度
- 修复了技能: [Aura](/技能/列表/aura) 的修改项: `cancelonchangeworld` 无效的漏洞
- 修复了[实体模板](/实体/模板)被多次合并的路东
- 修复了目标选择过滤器: [blocktype](/技能/目标选择器#目标过滤器) 的一个小漏洞
- 修复技能: [Ray Trace](/技能/列表/raytrace)
- 修复了加载[定点生成](/定点生成)的多个漏洞
- 修复了随机数序列化的多个漏洞
- 修复条件: [Score](/技能/列表/score)
- 修复条件: [Score](/技能/列表/score) 无法检测范围值的漏洞

过时版本
================

-   [5.3.x更新日志](/更新日志)
-   [5.2.x更新日志](/更新日志/5.2.x更新日志)
-   [5.1.x更新日志](/更新日志/5.1.x更新日志)
-   [4.14.x更新日志](更新日志/4.14.x更新日志)
-   [4.13.x更新日志](更新日志/4.13.x更新日志)
-   [4.12.x更新日志](更新日志/4.12.x更新日志)
-   [4.11.x更新日志](更新日志/4.11.x更新日志)
-   [4.10.x更新日志](更新日志/4.10.x更新日志)
-   [4.9.x更新日志](更新日志/4.9.x更新日志)
-   [4.8.x更新日志](更新日志/4.8.x更新日志)
-   [4.7.x更新日志](更新日志/4.7.x更新日志)