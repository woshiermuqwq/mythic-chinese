
**编者测试百科内容时,所使用版本为 5.0.0**

5.0
======

- 支持1.18
- Mythic API分离成一个独立的模块（供拓展插件作者使用)
- 重写插件API
- 注册自定义触发器

API
---

- 优化掉落表的API

命令
----

### 新增: /mm i enchant 附魔名 等级
- 用于为手持物品添加附魔

实体
----

- 新增 Item(掉落物)
- 显示名文本支持形如<#FFFFFF>的颜色Hax代码（仅工作于 MC 1.17.1 及以上）

物品
----

### 新增: MythicMob{type=}
### Color
- 支持范围值, 格式如: 0to255,0to255,0to255

技能
----

### 新增: PlayAnimation
- 播放原版动作, 同时支持Audience, 仅限1.17+
### 新增: Propel
- 不会影响垂直（Y轴）速度的冲刺
### ItemSpray
- 新增修改项: Gravity, 决定所抛洒出的掉落物是否拥有重力
### Projectile
- 更多修改项支持占位符
- 新增抛射物类型: Tracking, 详见->[点我](技能/列表/Projectile#抛射物类型)
- 新增付费版专属修改项: bounce（是否可反弹）
- 新增修改项: bulletColor  
    当[抛射物类型](技能/列表/Projectile#抛射物类型)为Item（物品）或MythicItem（自定义物品）时, 且物品可染色, 该修改项用于决定该物品的颜色）
### Look
- 现在可工作于 盔甲架
### Velocity
- 三轴速度修改项支持占位符
### Send Title Message
- 文本支持形如<#FFFFFF>的颜色Hax代码
### Audience新增类型: NonSelfWorld
- 与自身不处在同一世界的实体
### Delay
- 支持[占位符](/技能/占位符)与[变量](/技能/变量)

特效技能
-------

### 新增: GuardianBeam
- 朝目标位置发射守卫者光束
### 新增: StopSound
- 停止播放指定音效

条件
----

### 新增: HasEnchantment
- 检测实体是否穿戴/手持着 带有指定等级的指定附魔 的物品
### 新增: EntityMaterialType
- 检测实体（掉落物）是否为指定类型的物品
### 新增: LineOfSightOrigin
- 有待测试
### MobsInRadius
- 修复其无法在随机生成中工作的问题  
  这意味着现在可以限制随机生成的密度

目标选择器
---------

### 新增: @NonLivingInRadius
- 以施法者为中心, 选取指定半径 球体范围内的特殊实体  
  如: 已落地实体、末影水晶、船、末影珍珠、末影之眼等
### 新增: @NonLivingNearOrigin
- 以坐标原点为中心, 选取指定半径 球体范围内的特殊实体  
  如: 已落地实体、末影水晶、船、末影珍珠、末影之眼等
### @EntitiesInRadius
- 新增修改项: LivingOnly
### 目标过滤器
- 新增可过滤项: ArmorStand与Marker（默认过滤）

触发器
------

### 新增: ~onTame
- 实体被驯服后激活技能
### 新增: ~onLoad
- 服务器重启后, 该MythicMobs实体第一次被加载后激活

漏洞修复/其它信息
-----------------

- 修复技能: Freeze的NPE漏洞
- 修复了实体射击事件（EntityBowShoot）的NPE漏洞
- 修复了区块监听器（ChunkListeners）的NPE漏洞
- 修复了被Mythic实体击杀了的玩家概率不会显示所自定义的击杀信息
- 修复了实体选项: Invisible 的异步工作漏洞
- 修复了技能: Projectile 的抛射物有时不会消失的漏洞（当定义了抛射物类型）
- 修复了技能: Projectile 的修改项: Duration的漏洞
- 修复了条件: Stance 的NPE漏洞
- 修复了实体可能会被API移除的漏洞
- 修复了技能: VariableAdd 和 VariableSubtract的某些漏洞
- 修复了技能: SudoSkill 无法使用目标过滤/数量限制器的漏洞
- 修复了条件: Burning的一个漏洞
- 修复了自定义条件不使用条件活动的问题
- 修复了目标过滤器不工作于 MC 1.16.5 的漏洞
- 修复了目标过滤器的一个漏洞
- 修复了AI行动器: GotoOwner 的一些漏洞
- 修复了事件: MythicMobItemGenerateEvent 的异步工作漏洞
- 修复了技能: Freeze 的一些漏洞
- 修复了触发器: onDamaged 不会被其它伤害类型所激活（如摔伤）的漏洞
- 优化了技能: Projectile 的反弹机制（Bounce）, 以及移除了反弹调试信息
- 修复了触发器: onDespawn 不会在实体被技能: Remove 或 命令: /mm m k(ka) 移除后激活
- 修复了一些与MMOItems的兼容漏洞
- 修复了条件: Item 的一个漏洞
- 修复了技能: GuardianBeam 的修改项: onStart/onTick/onEnd不会工作的漏洞
- 修复了实体显示名的一个漏洞
- 修复了条件: MobsInRadius 的异步工作漏洞
- 修复了已支持 MC 1.18 仍显示不支持的漏洞
- 修复了许多关于 目标选择器 的异步工作漏洞
- 修复了统计命令不将 由定点生成所生成的实体 计入的漏洞

4.13.1
======

漏洞修复/其它信息
---------------

- 修复了一些有关定点生成的漏洞
- 修复了技能: RaytraceTo的NPE漏洞
- 修复了威胁度监听器被关闭的漏洞

4.13.0（出现于5.0制作期间）
======

整体
-------
- 最高支持 Minecraft 1.17.1
- 不再支持 Minecraft 1.16.5 以下的全部版本

实体
----
- 新增 AXOLOTL(美西螈)
- 新增 GLOW_SQUID(发光鱿鱼)
- 新增 GOAT(山羊)
- 新增 MARKER(不可见低耗能实体)

实体选项: Despawn
-------

新增可用值: CHUNK 与 PERSISTENT  

- CHUNK 将使实体在附近没有玩家且自身进入一个未加载区块时消失
- PERSISTENT 将使实体不会消失, 甚至无法 `/mm m killall` 所杀死


AI行动/目标器
-------

- 新增: fleeFaction(远离指定阵营的实体)

技能
---------
### 新增: disguiseAsBlock
### 新增: Freeze
### 新增: giveItemFromSlot
### 新增: hideFromPlayers
### 新增: onBlockBreak
- 给予目标光环(破坏方块后激活技能组)
### SudoSkill
- 新增修改项：target override
### Projectile
- 修改项: velocity 支持占位符
### Shoot
- 修改项支持占位符
### ShootShulker
- 修改项支持占位符
### RunAIGoal/TargetSelectors
- 支持付费版限定的行动/目标选择器
### 新增: TrackLocation
- 保存施法者的当前位置

目标选择器
---------

### @Forward
- 新增修改项: UseEyeDirectional, SideOffset

特效
-------
### 新增粒子
- drippingDripstoneLava, drippingDripstoneWater, dustColorTransition,
electricSpark, fallingDripstoneLava, fallingDripstoneWater, Glow,
glowingInk, Light, reversePortal, Scrape, Snowflake, vibration, waxOff,
waxOn  

* 修复了一些有关粒子动量的漏洞
- 若粒子未设置动量，粒子将继续在坐标原点播放，并像以前一样向目标移动
- 若粒子已设置动量，粒子现在将在目标位置正常播放

目标选择器
---------
### 整体
- @Location新增修改项: length
- @BlocksInRadius新增修改项: origin
### 新增: @BlocksInChunk
### 新增: @BlocksNearOrigin
### 新增: @ForwardWall
### 新增: @ItemsInRadius
### 新增: @ItemsNearOrigin
### 新增: @NearestStructure
### 新增: @SelfEyeLocation
- 功能与MythicMobs Extension的@Eyedirection一致
### 新增: @SpawnLocation
### 新增: @TargetedLocation
### 新增: @TargetedTarget
### 新增: @Trackedfromlocation, 用于选取施法者所保存的位置
### 新增: @UniqueIdentifier
### @Forward新增修改项: rotation
### @TargetLocation
- 新增修I改项: ignoreTransparent
### @Ring
- 修改项支持占位符
### @PlayersInRadius
- 修改项支持占位符
### @EntitiesInRadius
- 修改项支持占位符

条件
----------

### 新增: color
```
  Conditions:
  - color{c=RED}
```
### 新增: playersinRadius
```
  Conditions:
  - pir{amount=>5;r=10}
```
### 新增: hasitem
```
  Conditions:
  - hasitem{i=STICK;amount=2}
```
### 新增: dimension
  检测维度
```
  Conditions:
  - dimension NETHER
```
### 新增: motionX
  检测实体的X轴动量
### 新增: motionZ
  检测实体的Z轴动量
### 新增: isleashed
  实体是否被栓住
```
  Conditions:
  - isleashed true
```
### Biome
  新增修改项: extra=true/false
### 新增: DistanceFromTrackedLocation
  检测施法者与所保存位置的距离
### BlockType
- 现在支持MMOItems方块
### Holding
- 现在支持MMOItems物品(格式为 mmoitems.TYPE.ID)
### Wearing
- 现在支持MMOItems物品(格式为 mmoitems.TYPE.ID)

单行条件
--------

新增: ?! 用于检测施法者 且条件活动为false  
新增: ?~ 用于检测触发者 且条件活动为true  
新增: ?~! 用于检测触发者 且条件活动为false

定点生成
--------
### 新增选项: Pitch(视角水平旋转角度)、Yaw(视角俯仰视角度)

变量
------------
- 新增 <target.entity_type>
- 新增 <target.block.type>
- 新增 <skill.targets>
- 新增 <target.l.yaw>
- 新增 <target.l.pitch>
- 新增 <trigger.l.yaw>
- 新增 <trigger.l.pitch>
- 新增 <target.level>
- 新增 <caster.damage>

兼容
-------------
### FawePaste
- 支持8月中旬之前的最新fawePaste

### GriefPrevention
- 新增条件: inClaim, nearClaim

漏洞修复/其它信息
---------------
- 优化实体类目标选择器
- 修复技能：ConsumeHeldItem(清除手持物品)的漏洞
- 修复技能：Look(康向)的漏洞
- 修复技能：RandomSkill(随机技能)的漏洞
- 修复了蜜蜂与僵尸猪灵的覆盖问题
- 修复了有时技能行写入无关的空格会导致技能失效的漏洞,如Message内的信息
- 修复了技能：SetColor(设置颜色)对潜影贝无效的漏洞
- 修复了技能：SetLevel(设置等级)小数无效的漏洞
- 修复了技能：Raytrace(射线)的NPE漏洞
- 修复了技能：PoseArmorStand(盔甲架姿势)左右腿混名的漏洞
- 修复了掉落表中的MMOItems物品数量异常的漏洞
- 修复了有关命令的NPE漏洞
- 修复了有关位置目标选择器的漏洞
- 修复了有关实体威胁度的NPE漏洞
- 修复了尝试注销失活实体的NPE漏洞
- 修复了死亡信息在Paper端文字异常的漏洞
- 修复了恶魂激活触发器: [onShoot](/技能/触发器)的漏洞@
- 修复了技能：Weather(天气)无效的漏洞
- 修复了骷髅有时会射出弓的漏洞
- 修复了技能：FillChest(填充箱子)的漏洞
- 修复了M物品修改项：HideFlags无法隐藏全部标签的漏洞
- 修复了TeleportIn(相对传送)的修改项漏洞
- 修复了Threat(威胁度)的漏洞
- 修复了当Projectile的修改项:bullettype值为ARROW, ITEM, MYTHICITEM时所生成的报错
- 修复了当Summon的修改项: Summonerisparent为true且施法者为玩家时,玩家并非所生成实体的父系实体的漏洞
- 修复了AI目标选择器: OwnerAttacker 与 OwnerTarget 在 1.16.5 无法正常工作的漏洞
- 修复了AI行动器: NearestConditionalTarget 在 1.16.5 工作时无视玩家的漏洞
- 修复了实体递归加载所导致的报错
- 修复了技能: teleportto 的NPE漏洞
- 修复了技能:  onAttack, onDamaged 在光环结束时所导致的报错
- 修复了技能: Projectile 的速度误差漏洞
- 修复了实体选项: Interactable: false 无法在盔甲架身上正常工作的漏洞
- 修复了技能: summon 的NPE漏洞
- 修复了特效技能: particleOrbital 的修改项: reversed 值为 true 时无效的漏洞
- 修复了一些区块卸载导致的报错
- 修复了一些非Paper服务端的漏洞
- 修复了一些有关光环选取目标的漏洞


**编者测试百科内容时,所使用版本为 5.0.0**

4.12.0
======

**高亮信息**
----------
- 技能参数系统
- Disguise的更名
- 新的特殊技能: ChainMissile
- 新的粒子效果: Mob
- 新的条件活动: orElseCast
- 新的修改项?: origin=@targeter

整体
-------

### 支持 Java 16

### 技能参数 (仅限付费版)
自定义技能修改项变量是一个机制,允许你为技能组自定义新的变量(赋值于修改项),用于给该技能组内的其他
技能使用.
详见->[点我](技能/技能参数)

实体
----
### 新增: EXPERIENCE_ORB(经验球)
- 以及它独有的实体选项: Experience: 数值

技能
----

### Origin (仅限付费版)
- 新增通用修改项: `origin=@targeter` ,用于令技能组以技能目标选择器所选取的实体为中心,而不是施法者

### BreakBlock
- 新增修改项: doDrops, doEffect, useTool

### Disguise **技能名变更** 
- 旧disguise成为一个独立的技能: disguiseOld
- 新Disguise的修改项可以是一串伪装命令内的一部分

### FAWEPaste
- 新增修改项: chestDropTable
- 修改项作用: 粘贴创世神区域文件时 该文件内的箱子是否用指定的掉落表填充.

### FillChest
- 使用掉落表填充指定位置的箱子

### GiveItem
- 新增修改项: fakeLooting=true
- 修改项作用: 是否播放物品拾取动画

### Messages
- 新增修改项: audience
- 修改项作用: 令特效技能仅对特定实体拥有效果

### ModifyProjectile
- 支持orbital的修改项: Radius(半径)

### Projectiles
- 优化与方块的碰撞
- 优化与巨型实体的碰撞(如恶魂)
- 优化与 套用了ModelEngine模型的实体 的碰撞

### RemoveAura
- 当指定光环名为"ANY"时,将移除目标身上所有的光环

### 新增: ChainMissile (仅限付费版)
- 在多个目标之间传递导弹(Missile)

### 新增: giveItemFromTarget
- 夺取目标物品并给予给施法者

### 新增: raytraceTo (仅限付费版)
- 向目标位置发射射线

### 新增: ShootShulkerBullet
- 发射潜影贝导弹

### 新增: clearThreat
- 清除所有对目标拥有威胁度的实体

### 新增: variableUnset{var=}
- 移除指定变量

特效
-------

### Audiences
- 修改项 `audience=World` 与 `audience=Target` 允许特效技能仅对特定实体拥有效果
- 值现在还可为 'caster' 、 'targeter' 

### 新增粒子效果 - Mob particles??? **(p仅限付费版)**
- 新增名为Mob(实体)の粒子类型与修改项：Mob,用于指定实体粒子所选用的实体

### BlockWave
- 新增修改项: velocityX, velocityY, velocityZ, ignoreAir

目标选择器
---------
### 新增: @PlayerByName{name=""}
### 新增: @Vehicle

条件
----------
### 新增条件活动: orElseCast
- 若条件不满足则激活指定技能组
```
SomeSkill:
  Conditions:
  - night orElseCast SomeOtherSkill
```

### 新增: isCaster
### 新增: isChild
### 新增: isLiving
### 新增: isMonster
### 新增: isPlayer
### 新增: isSprinting
- 仅作用于玩家
### 新增: name{name=""}
- 检测目标玩家名
- 支持占位符
### 新增: vehicleIsDead

物品
-----

### 单行物品配置
- 新增选项: model, enchants, potioneffects, skullOwner, skullTexture
```
diamond{display="测试";enchants=DAMAGE_ALL:4,PROTECTION_ALL:4;model=2}
```

占位符
------------
- 新增 <caster.l.x.double>
- 新增 <caster.l.y.double>
- 新增 <caster.l.z.double>
- 新增 <skill.targets>

兼容
-------------
- 支持最新的伪装LibsDisguises
- 移除对CMI的兼容
- 移除对EffectLib的兼容

漏洞修复/其它信息
---------------
- 修复了@ring目标物稍微偏心的问题
- 修复了audiences无法作用于某些特效技能
- 修复了隐形盔甲架生成后瞬间可见漏洞
- 修复了有关技能的NPE漏洞
- 修复了抛射物直到重载插件后才出现的漏洞
- 修复了在非Paper服务器上生成某些生物后的NPE
- 修复了小怪改变目标的问题
- 修复了施法者死亡后光环不会消失的问题
- 修复了玩家死亡后光环不会消失的问题
- 修复了重载插件后自然消失的实体的Boss血条不会消失的漏洞
- 修复了技能：setSpeed(设置速度)的漏洞
- 修复了威胁度的NPE漏洞
- 修复了移除光环时的错误漏洞
- 修复了技能: onShoot(发射光环) 由skeletons, withers, dragons, snowmen, ghasts, llamas激活时所产生的漏洞
- 修复了使用旧颜色代码和新十六进制颜色码使文本斜体化时的项目序列化漏洞
- 修复了条件: WorldTime(世界时间)的漏洞
- 修复了有关物品的NPE漏洞
- 修复了有关定点生成的NPE漏洞
- 修复了技能: BreakBlock(破坏方块)无视区域权限的漏洞
- 修复了条件: hasAura(若拥有指定光环)的漏洞
- 修复了目标选择器: @MobsInRadius的一些漏洞
- 修复了条件: HasInventorySpace 即使目标玩家背包有空槽时, 条件仍然不符合的漏洞
- 修复了抛射物类型: Tracking 所选取的位置错误的漏洞

其它版本
================
-   [5.0.x更新日志](更新日志)
-   [4.12.x更新日志](更新日志/4.12.x更新日志)
-   [4.11.x更新日志](更新日志/4.11.x更新日志)
-   [4.10.x更新日志](更新日志/4.10.x更新日志)
-   [4.9.x更新日志](更新日志/4.9.x更新日志)
-   [4.8.x更新日志](更新日志/4.8.x更新日志)
-   [4.7.x更新日志](更新日志/4.7.x更新日志)