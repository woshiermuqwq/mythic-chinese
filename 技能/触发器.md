技能触发器
==============

技能触发器用于决定技能如何激活.

<u>**触发器无法被写进技能组内(存放于Skills文件夹内的文档内).**</u>只能被写于实体配置内.

**可用触发器列表:**

1tick=0.05秒

| 触发器                | 描述                                     | 是否支持血量要求 | 是否支持几率 |
|-----------------------|------------------------------------------|------------------|--------------|
| onCombat              | **默认** 出生、死亡、受伤、造成伤害后    | 支持             | 支持         |
| onAttack              | 造成伤害后                               | 支持             | 支持         |
| onDamaged             | 受到伤害后                               | 支持             | 支持         |
| onSpawn               | 生成后                                   | 不支持           | 支持         |
| onDespawn             | 消失后                                   | 支持             | 不支持       |
| onFirstSpawn          | 第一次由生成点(定点生成)生成后           | 不支持           | 支持         |
| onDeath               | 死亡后                                   | 不支持           | 支持         |
| onTimer:10            | 每10tick执行1次(10可修改)                | 支持             | 支持         |
| onInteract            | 被右键后                                 | 支持             | 支持         |
| onKill                | 杀死实体后                               | 支持             | 支持         |
| onKillPlayer          | 杀死玩家后                               | 支持             | 支持         |
| onPlayerDeath         | 死亡后(施法者为玩家)                     | 不支持           | 支持         |
| onEnterCombat         | 进入战斗后(需开启[威胁度](/实体/威胁度)) | 支持             | 支持         |
| onDropCombat          | 结束战斗后(需开启[威胁度](/实体/威胁度)  | 支持             | 支持         |
| onChangeTarget        | 变更目标后(需开启[威胁度](/实体/威胁度)) | 支持             | 支持         |
| onExplode             | 爆炸后                                   | 支持             | 支持         |
| onTeleport            | 传送后                                   | 支持             | 支持         |
| onSignal              | 收到信号后                               | 支持             | 支持         |
| onSignal:*信号名*     | 收到指定信号后                           | 支持             | 支持         |
| onShoot               | 发射后                                   | 支持             | 支持         |

**MythicCrucible** 新增触发器:**

| 触发器                | 描述                        |
|-----------------------|-----------------------------|
| onBlockBreak          | 破坏方块后                  |
| onBlockPlace          | 放置方块后                  |
| onConsume             | 消耗物品后(药水、食物等)    |
| onCrouch              | 蹲下后                      |
| onUnCrouch            | 蹲起后                      |
| onDamaged             | 受伤后                      |
| onDeath               | 死亡后                      |
| onEquip               | 穿戴后                      |
| onUnEquip             | 脱下后                      |
| onInteract            | 被右键后                    |
| onBowHit              | 箭命中后                    |
| onPotionSplash        | 掷出药水瓶后                |
| onRightClick          | 右键后                      |
| onShoot               | 射箭后                      |
| onSpawn               | 重生后                      |
| onSwing               | 左键后                      |
| onTimer:\#            | 每#ticks激活一次            |
| onUse                 | 右键实体/方块后             |
| onFish                | 手持鱼竿右键后              |
| onFishBite            | 鱼准备上钩后                |
| onFishCatch           | 鱼上钩后                    |
| onFishGrab            | 钩中实体鱼后                |
| onFishGround          | 鱼钩被抛在地面后            |
| onFishingReel         | 收钩无鱼后                  |
| onFishingFail         | 有鱼准备上钩却提前收钩后    |
| onPressQ              | 按下Q后(需ProtocolLib)      |
| onPressCtrlQ          | 按下Ctrl+Q后(需ProtocolLib) |
| onPressF              | 按下F后(需ProtocolLib)      |

MythicCrucible是一个付费插件,购买入口->[点我](https://mythiccraft.io/index.php?resources/crucible-create-unbelievable-mythic-items.2/)!

触发器配置示例
--------------

触发器必定带有前缀 **~on**

    触发器测试:
      Type: WITHER_SKELETON
      Skills:
      - ignite{ticks=100} @target ~onAttack
      - skill:某技能组 @trigger ~onDamaged 0.1
      - skill{s=AOEFire} ~onTimer:300

造成伤害后将对自身当前目标造成5秒燃烧效果  
受伤后有10%几率对攻击者使用 某技能组  
每15秒(300tucjs)对自身激活1次技能组: AOEFire

<!-- -->

    SkeletalWarrior:
      Mobtype: skeleton
      Skills:
      - skill{s=Bash} =10%-90%

实体攻击或受伤且当前生命为最大生命的10~90%时将会触发Bash

关于@Trigger
---------------------

@Trigger所选取的是触发器的触发者.  
铁傀儡攻击带有技能的僵尸,僵尸正在追逐村民  
触发器为~onDamaged的技能会选取铁傀儡为技能目标  
若使用@target目标选择器,则选取村民为技能目标