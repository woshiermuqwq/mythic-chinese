技能触发器
==============

技能触发器用于决定技能如何激活.

<u>**触发器无法被写进技能组内(存放于Skills文件夹内的文档内).**</u>只能被写于实体配置内.  

<u>一行技能只能有一个触发器, 触发器字符串内, **~on 严格区分大小写**, 但后面的部分则并不区分大小写(除onTimer)</u>

**可用触发器列表:**

1tick=0.05秒

| 触发器                | 描述                                     | 是否支持血量要求 | 是否支持几率 |
|-----------------------|------------------------------------------|------------------|--------------|
| onCharged（5.0）              | 爬行者充能后（闪电）                               | 支持             | 支持         |
| onCombat              | **默认** 出生、死亡、受伤、造成伤害后    | 支持             | 支持         |
| onAttack              | 造成伤害后（触发者为受伤者）                               | 支持             | 支持         |
| onDamaged             | 受到伤害后（触发者为攻击自身者）                               | 支持             | 支持         |
| onSpawn               | 被生成后                                   | 不支持           | 支持         |
| onDeSpawn             | 消失后（包括技能: [Remove](/技能/列表/remove) 与命令: /mm m k(a)）                                   | 支持             | 不支持       |
| onFirstSpawn          | 第一次由生成点(定点生成)生成后           | 不支持           | 支持         |
| onDeath               | 被杀死后（触发者为击杀者）                                   | 不支持           | 支持         |
| onTimer:10            | 每10tick执行1次(10tick可修改)                | 支持             | 支持         |
| onTame（4.14.0）               | 被驯服后（触发者为驯服者）                      | 支持             | 支持         |
| onInteract            | 被右键后（触发者为右键者）                                 | 支持             | 支持         |
| onKill                | 杀死实体后                               | 支持             | 支持         |
| onKillPlayer          | 杀死玩家后                               | 支持             | 支持         |
| onLoad               | 重启服务器被加载后                      | 支持             | 支持         |
| onPlayerDeath         | 死亡后(施法者为玩家)                     | 不支持           | 支持         |
| onPrime（4.14.0）               | 爬行者被引燃后                      | 支持             | 支持         |
| onEnterCombat         | 进入战斗后(需开启[威胁度](/实体/威胁度)) | 支持             | 支持         |
| onDropCombat          | 结束战斗后(需开启[威胁度](/实体/威胁度)）  | 支持             | 支持         |
| onChangeTarget        | 变更目标后(需开启[威胁度](/实体/威胁度)) | 支持             | 支持         |
| onExplode             | 爬行者爆炸后                                   | 支持             | 支持         |
| onTeleport            | 末影人传送后                                   | 支持             | 支持         |
| onSignal              | 收到信号后（触发者为信号发送者）                               | 支持             | 支持         |
| onSignal:*信号名*     | 收到指定信号后（触发者为信号发送者）                           | 支持             | 支持         |
| onShoot               | 发射后（包括火球、雪球等）               | 支持             | 支持         |

**MythicCrucible** 新增触发器:**

| 触发器                | 描述                        |
|-----------------------|-----------------------------|
| onBlockBreak          | 破坏方块后                  |
| onBlockPlace          | 放置方块后                  |
| onConsume             | 消耗物品后(药水、食物等)    |
| onCrouch              | 蹲下后                      |
| onUnCrouch            | 蹲起后                      |
| onEquip               | 穿戴后                      |
| onJoin | 加入服务器后 |
| onUnEquip             | 脱下后                      |
| onBowHit              | 箭命中后                    |
| onPotionSplash        | 掷出药水瓶后                |
| onRightClick          | 右键后                      |
| onShoot               | 射箭后                      |
| onSpawn               | 重生后                      |
| onSwing               | 左键后                      |
| onUse                 | 右键后             |
| onFish                | 手持鱼竿右键后              |
| onFishBite            | 鱼准备上钩后                |
| onFishCatch           | 鱼上钩后                    |
| onFishGrab            | 钩中实体鱼后                |
| onFishGround          | 鱼钩被抛在地面后            |
| onFishingReel         | 收钩无鱼后                  |
| onFishingFail         | 有鱼准备上钩却提前收钩后    |
| onPressQ              | 按下Q后(需ProtocolLib)      |
| onPressCtrlQ          | 按下Ctrl+Q后(需ProtocolLib) |
| onPressF              | 按下F后(需ProtocolLib)      |
| onRespawn | 重生后 |

MythicCrucible是一个付费插件,购买入口->[点我](https://mythiccraft.io/index.php?resources/crucible-create-unbelievable-mythic-items.2/)!

触发器配置示例
--------------

触发器必定带有前缀 **~on**

    触发器测试:
      Type: WITHER_SKELETON
      Skills:
      - ignite{ticks=100} @target ~onAttack
      - skill:某技能组 @trigger ~onDamaged 0.1
      - skill{s=AOEFire} ~onTimer:300

造成伤害后将对自身当前目标造成5秒燃烧效果  
受伤后有10%几率对攻击者使用 某技能组  
每15秒(300ticks)对自身激活1次技能组: AOEFire

<!-- -->

    测试实体:
      Type: skeleton
      Skills:
      - skill{s=测试技能} =10%-90%

测试实体 攻击或受击且当前生命为最大生命的10~90%时将会触发测试技能

关于\@Trigger（触发者）
---------------------

\@Trigger所选取的是触发器的触发者.  
铁傀儡攻击带有技能的僵尸,僵尸正在追逐村民  
触发器为~onDamaged的技能会选取铁傀儡为技能目标  
僵尸杀死带有全服通报技能的村民, 村民将在死后通报该僵尸的名称.  
若使用@target目标选择器,则选取村民为技能目标

关于 ~onAttack
-----

在 MM 4.12 及以下, 任何形式的伤害都能触发该触发器.  

这就包括[Damage](/技能/列表/damage)等伤害技能所造成的伤害

但已在4.13修复